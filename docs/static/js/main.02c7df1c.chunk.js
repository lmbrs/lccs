(this.webpackJsonplccs=this.webpackJsonplccs||[]).push([[0],{19:function(e,t,n){e.exports={selected:"Tab_selected__2Cvom"}},20:function(e,t,n){},21:function(e,t,n){e.exports={rank:"RankingEntry_rank__33WHw"}},22:function(e,t,n){e.exports={loader:"Loading_loader__3iLHB",spin:"Loading_spin__2fWEF"}},23:function(e,t,n){},24:function(e,t,n){e.exports={app:"App_app__1bLJ4"}},31:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},4:function(e){e.exports=JSON.parse('{"LICHESS_TEAM_ID":"tv-eiche-horn"}')},55:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),s=n(16),c=n.n(s),i=(n(31),n(1)),u=n.n(i),o=n(3),l=n(17),p=n(18),f=n(26),d=n(25),h=n(4),b=(n(33),n(0)),j=function(){return Object(b.jsx)("header",{children:Object(b.jsxs)("a",{href:"https://lichess.org/team/".concat(h.LICHESS_TEAM_ID),target:"_blank",children:["lichess.org/team/",h.LICHESS_TEAM_ID]})})},m=(n(35),function(e){return Object(b.jsx)("nav",{children:Object(b.jsx)("ul",{children:e.children})})}),x=n(19),O=n.n(x),v=function(e){return Object(b.jsx)("li",{className:e.selected?O.a.selected:"",onClick:e.onClick,children:e.children})},g=n(20),k=n.n(g),z=n(21),S=n.n(z),_=function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsxs)("span",{className:S.a.rank,children:["#",e.rank]})}),Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:e.profile,target:"_blank",children:e.username})}),Object(b.jsx)("td",{children:e.rating})]})},w=n(22),y=n.n(w),T=function(e){return Object(b.jsx)("tr",{children:Object(b.jsx)("td",{colSpan:e.colSpan,children:Object(b.jsx)("span",{className:y.a.loader})})})},R=function(e){return Object(b.jsx)("div",{className:k.a.wrapper,children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Rank"}),Object(b.jsx)("th",{children:"Spieler"}),Object(b.jsx)("th",{children:"Rating"})]})}),Object(b.jsx)("tbody",{children:void 0===e.entries?Object(b.jsx)(T,{colSpan:3}):e.entries.map((function(e,t){return Object(b.jsx)(_,{rank:t+1,username:e.username,profile:e.profile,rating:e.rating},e.username)}))})]})})},E=(n(36),function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.username}),Object(b.jsxs)("td",{children:["\ud83e\udd47".repeat(e.gold),"\ud83e\udd48".repeat(e.silver),"\ud83e\udd49".repeat(e.bronze)]})]})}),C=n(23),I=n.n(C),N=function(e){return Object(b.jsx)("div",{className:I.a.wrapper,children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Spieler"}),Object(b.jsx)("th",{children:"Platzierung"})]})}),Object(b.jsx)("tbody",{children:void 0===e.entries?Object(b.jsx)(T,{colSpan:2}):e.entries.map((function(e,t){return Object(b.jsx)(E,{username:e.username,gold:e.gold,silver:e.silver,bronze:e.bronze},e.username)}))})]})})},A=n(24),J=n.n(A),L=n(6),M=n.n(L),H="https://lichess.org/api";function D(){return(D=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(H,"/team/").concat(h.LICHESS_TEAM_ID,"/users"));case 2:return t=e.sent,e.abrupt("return",t.data.replace(/\n+$/,"").split("\n").map((function(e){return JSON.parse(e)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(H,"/team/").concat(h.LICHESS_TEAM_ID,"/swiss"));case 2:return t=e.sent,e.abrupt("return",t.data.replace(/\n+$/,"").split("\n").map((function(e){return JSON.parse(e)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(H,"/team/").concat(h.LICHESS_TEAM_ID,"/arena"));case 2:return t=e.sent,e.abrupt("return",t.data.replace(/\n+$/,"").split("\n").map((function(e){return JSON.parse(e)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(H,"/tournament/").concat(t,"/results?nb=3"));case 2:return n=e.sent,e.abrupt("return",n.data.replace(/\n+$/,"").split("\n").map((function(e){return JSON.parse(e)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(H,"/swiss/").concat(t,"/results?nb=3"));case 2:return n=e.sent,e.abrupt("return",n.data.replace(/\n+$/,"").split("\n").map((function(e){return JSON.parse(e)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F={fetchMembers:function(){return D.apply(this,arguments)},fetchSwissTournaments:function(){return $.apply(this,arguments)},fetchArenaTournaments:function(){return B.apply(this,arguments)},fetchSwissTournamentResult:function(e){return W.apply(this,arguments)},fetchArenaTournamentResult:function(e){return P.apply(this,arguments)}};function q(e){return new Promise((function(t){return setTimeout(t,e)}))}var G=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={tab:"tournaments",members:[],medals:void 0,blitzRanking:void 0,rapidRanking:void 0,puzzleRanking:void 0},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadTournaments();case 2:return e.next=4,this.loadRankings();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadTournaments",value:function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,r,a,s,c,i,o,l,p,f,d,h,b,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,F.fetchArenaTournaments();case 3:n=e.sent,r=n.filter((function(e){return!JSON.stringify(e).includes("teamBattle")})).filter((function(e){return e.winner})).map((function(e){return e.id}));case 5:if(0===r.length){e.next=17;break}return e.next=8,F.fetchArenaTournamentResult(r.shift());case 8:if((a=e.sent)[0]&&(s=a[0].username,t[s]||(t[s]={username:s,gold:0,silver:0,bronze:0}),t[s].gold++),a[1]&&(c=a[1].username,t[c]||(t[c]={username:c,gold:0,silver:0,bronze:0}),t[c].silver++),a[2]&&(i=a[2].username,t[i]||(t[i]={username:i,gold:0,silver:0,bronze:0}),t[i].bronze++),r.length%5!==0){e.next=15;break}return e.next=15,q(1e3);case 15:e.next=5;break;case 17:return e.next=19,F.fetchSwissTournaments();case 19:o=e.sent,l=o.filter((function(e){return"finished"===e.status})).map((function(e){return e.id}));case 21:if(0===l.length){e.next=33;break}return e.next=24,F.fetchSwissTournamentResult(l.shift());case 24:if((p=e.sent)[0]&&(f=p[0].username,t[f]||(t[f]={username:f,gold:0,silver:0,bronze:0}),t[f].gold++),p[1]&&(d=p[1].username,t[d]||(t[d]={username:d,gold:0,silver:0,bronze:0}),t[d].silver++),p[2]&&(h=p[2].username,t[h]||(t[h]={username:h,gold:0,silver:0,bronze:0}),t[h].bronze++),l.length%5!==0){e.next=31;break}return e.next=31,q(1e3);case 31:e.next=21;break;case 33:for(j in console.log(t),b=[],t)b.push(t[j]);this.setState({medals:b.sort((function(e,t){return e.gold<t.gold?1:t.gold<e.gold?-1:e.silver<t.silver?1:t.silver<e.silver?-1:e.bronze<t.bronze?1:t.bronze<e.bronze?-1:0}))});case 37:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadRankings",value:function(){var e=this;F.fetchMembers().then((function(t){var n=function(e){return e.perfs.blitz.rating},r=function(e){return e.perfs.rapid.rating},a=function(e){return e.perfs.puzzle.rating};e.setState({blitzRanking:t.filter((function(e){return!function(e){return!e.perfs.blitz||e.perfs.blitz.prov}(e)})).sort((function(e,t){return n(e)<n(t)?1:n(t)<n(e)?-1:0})).map((function(e){return{username:e.username,profile:e.url,rating:n(e)}})),rapidRanking:t.filter((function(e){return!function(e){return!e.perfs.rapid||e.perfs.rapid.prov}(e)})).sort((function(e,t){return r(e)<r(t)?1:r(t)<r(e)?-1:0})).map((function(e){return{username:e.username,profile:e.url,rating:r(e)}})),puzzleRanking:t.filter((function(e){return!function(e){return!e.perfs.puzzle||e.perfs.puzzle.prov}(e)})).sort((function(e,t){return a(e)<a(t)?1:a(t)<a(e)?-1:0})).map((function(e){return{username:e.username,profile:e.url,rating:a(e)}}))})}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:J.a.app,children:[Object(b.jsx)(j,{}),Object(b.jsxs)(m,{children:[Object(b.jsx)(v,{onClick:function(){return e.setState({tab:"tournaments"})},selected:"tournaments"===this.state.tab,children:"\u265e Turniere"}),Object(b.jsx)(v,{onClick:function(){return e.setState({tab:"blitz"})},selected:"blitz"===this.state.tab,children:"\u265e Blitz"}),Object(b.jsx)(v,{onClick:function(){return e.setState({tab:"rapid"})},selected:"rapid"===this.state.tab,children:"\u265e Schnellschach"}),Object(b.jsx)(v,{onClick:function(){return e.setState({tab:"puzzle"})},selected:"puzzle"===this.state.tab,children:"\u265e Puzzle"})]}),"tournaments"!==this.state.tab?"":Object(b.jsx)(N,{entries:this.state.medals}),"blitz"!==this.state.tab?"":Object(b.jsx)(R,{entries:this.state.blitzRanking}),"rapid"!==this.state.tab?"":Object(b.jsx)(R,{entries:this.state.rapidRanking}),"puzzle"!==this.state.tab?"":Object(b.jsx)(R,{entries:this.state.puzzleRanking})]})}}]),n}(a.a.Component);c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.02c7df1c.chunk.js.map